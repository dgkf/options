<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="An option specification outlines the various behaviors of an option. It's
default value, related global R option, and related environment variable
name, as well as a description. This information defines the operating
behavior of the option."><title>Specify Option — option_spec • options</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specify Option — option_spec"><meta property="og:description" content="An option specification outlines the various behaviors of an option. It's
default value, related global R option, and related environment variable
name, as well as a description. This information defines the operating
behavior of the option."><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">options</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">0.1.0.9001</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../articles/options.html">Get started</a>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/envvars.html">Environment Variables</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/dgkf/options/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Specify Option</h1>
      <small class="dont-index">Source: <a href="https://github.com/dgkf/options/blob/HEAD/R/options_spec.R" class="external-link"><code>R/options_spec.R</code></a></small>
      <div class="d-none name"><code>option_spec.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An option specification outlines the various behaviors of an option. It's
default value, related global R option, and related environment variable
name, as well as a description. This information defines the operating
behavior of the option.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">option_spec</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  default <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/bquote.html" class="external-link">bquote</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  desc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  option_name <span class="op">=</span> <span class="fu">get_option_name_fn</span><span class="op">(</span><span class="va">envir</span><span class="op">)</span>,</span>
<span>  envvar_name <span class="op">=</span> <span class="fu">get_envvar_name_fn</span><span class="op">(</span><span class="va">envir</span><span class="op">)</span>,</span>
<span>  option_fn <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">value</span>, <span class="va">...</span><span class="op">)</span> <span class="va">value</span>,</span>
<span>  envvar_fn <span class="op">=</span> <span class="fu"><a href="envvar_fns.html">envvar_eval_or_raw</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  quoted <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  eager <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>name</dt>
<dd><p>A string representing the internal name for the option. This is
the short form <code>&lt;option&gt;</code> used within a namespace and relates to, for
example, <code>&lt;package&gt;.&lt;option&gt;</code> global R option.</p></dd>


<dt>default</dt>
<dd><p>Either a quoted expression (if parameter <code>quote == TRUE</code>) or
default value for the option.  Defaults to an empty expression, indicating
that it is unset. The default value is lazily evaluated, evaluated only
when the option is first requested unless parameter <code>eager == TRUE</code>.</p></dd>


<dt>desc</dt>
<dd><p>A written description of the option's effects</p></dd>


<dt>option_name, envvar_name</dt>
<dd><p>A character value or function. If a character
value is provided it is used as the corresponding global option name or
environment variable name. If a function is provided it is provided with
the package name and internal option name to derive the global option name.
For example, provided with package <code>"mypkg"</code> and option <code>"myoption"</code>, the
function might return global option name <code>"mypkg.myoption"</code> or environment
variable name <code>"R_MYPKG_MYOPTION"</code>. Defaults to configured default
functions which fall back to <code>option_name_default</code> and
<code>envvar_name_default</code>, and can be configured using <code>set_option_name_fn</code>
and <code>set_envvar_name_fn</code>.</p></dd>


<dt>option_fn</dt>
<dd><p>A function to use for processing an option value before
being returned from the <a href="opt.html">opt</a> accessor functions. For further details see
section "Processing Functions".</p></dd>


<dt>envvar_fn</dt>
<dd><p>A function to use for parsing environment variable values.
Defaults to <code><a href="envvar_fns.html">envvar_eval_or_raw()</a></code>. For further details see section
"Processing Functions".</p></dd>


<dt>quoted</dt>
<dd><p>A logical value indicating whether the <code>default</code> argument
should be treated as a quoted expression or as a value.</p></dd>


<dt>eager</dt>
<dd><p>A logical value indicating whether the <code>default</code> argument should
be eagerly evaluated (upon call), or lazily evaluated (upon first use).
This distinction will only affect default values that rely on evaluation of
an expression, which may produce a different result depending on the
context in which it is evaluated.</p></dd>


<dt>envir</dt>
<dd><p>An environment in which to search for an options envir object.
It is rarely necessary to use anything but the default.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>An <code>option_spec</code> object, which is a simple S3 class wrapping a list
containing these arguments.</p>
    </div>
    <div class="section level2">
    <h2 id="processing-functions">Processing Functions<a class="anchor" aria-label="anchor" href="#processing-functions"></a></h2>
    <p>Parameters <code>option_fn</code> and <code>envvar_fn</code> allow for customizing the way values
are interpreted and processed before being returned by <code><a href="opt.html">opt</a></code> functions.</p><div class="section">
<h3 id="envvar-fn"><code>envvar_fn</code><a class="anchor" aria-label="anchor" href="#envvar-fn"></a></h3>


<p>When a value is retrieved from an environment variable, the string value
contained in the environment variable is first processed by <code>envvar_fn</code>.</p>
<p>An <code>envvar_fn</code> accepts only a single positional argument, and should have a
signature such as:</p>
<p></p><div class="sourceCode r"><pre><code>function(value)
</code></pre><p></p></div>
</div>

<div class="section">
<h3 id="option-fn"><code>option_fn</code><a class="anchor" aria-label="anchor" href="#option-fn"></a></h3>


<p>Regardless of how a value is produced - either retrieved from an environment
variable, option, a stored default value or from a default provided to an
<code><a href="opt.html">opt</a></code> accessor function - it is then further processed by <code>option_fn</code>.</p>
<p>The first argument provided to <code>option_fn</code> will always be the retrieved
value. The remaining parameters in the signature should be considered
experimental. In addition to the value, the arguments provided to <code><a href="opt.html">opt()</a></code>,
as well as an additional <code>source</code> parameter from <code><a href="opt.html">opt_source()</a></code> may be
used.</p>
<p><strong>Stable</strong></p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="cf">function</span>(value, ...)</span></code></pre><p></p></div>
<p><strong>Experimental</strong></p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="cf">function</span>(value, x, default, env, ..., source)</span></code></pre><p></p></div>
</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Doug Kelkhoff.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer></div>

  

  

  </body></html>

