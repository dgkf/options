<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Specify Option — option_spec • options</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Specify Option — option_spec"><meta name="description" content="An option specification outlines the various behaviors of an option. It's
default value, related global R option, and related environment variable
name, as well as a description. This information defines the operating
behavior of the option."><meta property="og:description" content="An option specification outlines the various behaviors of an option. It's
default value, related global R option, and related environment variable
name, as well as a description. This information defines the operating
behavior of the option."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">options</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">0.2.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/options.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/envvars.html">Environment Variables</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/dgkf/options/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Specify Option</h1>
      <small class="dont-index">Source: <a href="https://github.com/dgkf/options/blob/main/R/options_spec.R" class="external-link"><code>R/options_spec.R</code></a></small>
      <div class="d-none name"><code>option_spec.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>An option specification outlines the various behaviors of an option. It's
default value, related global R option, and related environment variable
name, as well as a description. This information defines the operating
behavior of the option.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">option_spec</span><span class="op">(</span></span>
<span>  <span class="va">name</span>,</span>
<span>  default <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/bquote.html" class="external-link">bquote</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  desc <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  option_name <span class="op">=</span> <span class="fu">get_option_name_fn</span><span class="op">(</span><span class="va">envir</span><span class="op">)</span>,</span>
<span>  envvar_name <span class="op">=</span> <span class="fu">get_envvar_name_fn</span><span class="op">(</span><span class="va">envir</span><span class="op">)</span>,</span>
<span>  option_fn <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">value</span>, <span class="va">...</span><span class="op">)</span> <span class="va">value</span>,</span>
<span>  envvar_fn <span class="op">=</span> <span class="fu"><a href="envvar_fns.html">envvar_eval_or_raw</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  quoted <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  eager <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  envir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sys.parent.html" class="external-link">parent.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>A string representing the internal name for the option. This is
the short form <code>&lt;option&gt;</code> used within a namespace and relates to, for
example, <code>&lt;package&gt;.&lt;option&gt;</code> global R option.</p></dd>


<dt id="arg-default">default<a class="anchor" aria-label="anchor" href="#arg-default"></a></dt>
<dd><p>Either a quoted expression (if parameter <code>quote == TRUE</code>) or
default value for the option.  Defaults to an empty expression, indicating
that it is unset. The default value is lazily evaluated, evaluated only
when the option is first requested unless parameter <code>eager == TRUE</code>.</p></dd>


<dt id="arg-desc">desc<a class="anchor" aria-label="anchor" href="#arg-desc"></a></dt>
<dd><p>A written description of the option's effects</p></dd>


<dt id="arg-option-name-envvar-name">option_name, envvar_name<a class="anchor" aria-label="anchor" href="#arg-option-name-envvar-name"></a></dt>
<dd><p>A character value or function. If a character
value is provided it is used as the corresponding global option name or
environment variable name. If a function is provided it is provided with
the package name and internal option name to derive the global option name.
For example, provided with package <code>"mypkg"</code> and option <code>"myoption"</code>, the
function might return global option name <code>"mypkg.myoption"</code> or environment
variable name <code>"R_MYPKG_MYOPTION"</code>. Defaults to configured default
functions which fall back to <code>option_name_default</code> and
<code>envvar_name_default</code>, and can be configured using <code>set_option_name_fn</code>
and <code>set_envvar_name_fn</code>.</p></dd>


<dt id="arg-option-fn">option_fn<a class="anchor" aria-label="anchor" href="#arg-option-fn"></a></dt>
<dd><p>A function to use for processing an option value before
being returned from the <a href="opt.html">opt</a> accessor functions. For further details see
section "Processing Functions".</p></dd>


<dt id="arg-envvar-fn">envvar_fn<a class="anchor" aria-label="anchor" href="#arg-envvar-fn"></a></dt>
<dd><p>A function to use for parsing environment variable values.
Defaults to <code><a href="envvar_fns.html">envvar_eval_or_raw()</a></code>. For further details see section
"Processing Functions".</p></dd>


<dt id="arg-quoted">quoted<a class="anchor" aria-label="anchor" href="#arg-quoted"></a></dt>
<dd><p>A logical value indicating whether the <code>default</code> argument
should be treated as a quoted expression or as a value.</p></dd>


<dt id="arg-eager">eager<a class="anchor" aria-label="anchor" href="#arg-eager"></a></dt>
<dd><p>A logical value indicating whether the <code>default</code> argument should
be eagerly evaluated (upon call), or lazily evaluated (upon first use).
This distinction will only affect default values that rely on evaluation of
an expression, which may produce a different result depending on the
context in which it is evaluated.</p></dd>


<dt id="arg-envir">envir<a class="anchor" aria-label="anchor" href="#arg-envir"></a></dt>
<dd><p>An environment in which to search for an options envir object.
It is rarely necessary to use anything but the default.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>An <code>option_spec</code> object, which is a simple S3 class wrapping a list
containing these arguments.</p>
    </div>
    <div class="section level2">
    <h2 id="processing-functions">Processing Functions<a class="anchor" aria-label="anchor" href="#processing-functions"></a></h2>
    <p>Parameters <code>option_fn</code> and <code>envvar_fn</code> allow for customizing the way values
are interpreted and processed before being returned by <code><a href="opt.html">opt</a></code> functions.</p><div class="section">
<h3 id="envvar-fn"><code>envvar_fn</code><a class="anchor" aria-label="anchor" href="#envvar-fn"></a></h3>


<p>When a value is retrieved from an environment variable, the string value
contained in the environment variable is first processed by <code>envvar_fn</code>.</p>
<p>An <code>envvar_fn</code> accepts only a single positional argument, and should have a
signature such as:</p>
<p></p><div class="sourceCode r"><pre><code>function(value)
</code></pre><p></p></div>
</div>

<div class="section">
<h3 id="option-fn"><code>option_fn</code><a class="anchor" aria-label="anchor" href="#option-fn"></a></h3>


<p>Regardless of how a value is produced - either retrieved from an environment
variable, option, a stored default value or from a default provided to an
<code><a href="opt.html">opt</a></code> accessor function - it is then further processed by <code>option_fn</code>.</p>
<p>The first argument provided to <code>option_fn</code> will always be the retrieved
value. The remaining parameters in the signature should be considered
experimental. In addition to the value, the arguments provided to <code><a href="opt.html">opt()</a></code>,
as well as an additional <code>source</code> parameter from <code><a href="opt.html">opt_source()</a></code> may be
used.</p>
<p><strong>Stable</strong></p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="cf">function</span>(value, ...)</span></code></pre><p></p></div>
<p><strong>Experimental</strong></p>
<p></p><div class="sourceCode"><pre><code><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="cf">function</span>(value, x, default, env, ..., source)</span></code></pre><p></p></div>
</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Doug Kelkhoff.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

